# ==================================================================
# VARIABLES DE ENTORNO PARA CMS-STRAPI
# ==================================================================
# IMPORTANTE: Copia este archivo como .env y configura los valores
# Nunca commitees el archivo .env con valores reales

# ==================================================================
# CONFIGURACIÓN DE LA APLICACIÓN
# ==================================================================
NODE_ENV=development
STRAPI_PORT=1337

# Claves de la aplicación - CAMBIAR EN PRODUCCIÓN
# Generar con: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
APP_KEYS="TODO:generar-4-claves-separadas-por-comas"
API_TOKEN_SALT="TODO:generar-salt-api-token"
ADMIN_JWT_SECRET="TODO:generar-admin-jwt-secret"
TRANSFER_TOKEN_SALT="TODO:generar-transfer-token-salt"
JWT_SECRET="TODO:generar-jwt-secret"

# ==================================================================
# CONFIGURACIÓN DE BASE DE DATOS
# ==================================================================
DATABASE_CLIENT=postgres
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=cms_strapi_db
DATABASE_USERNAME=strapi_user
DATABASE_PASSWORD="TODO:contraseña-segura-base-datos"
DATABASE_SSL=false

# Puerto externo para acceso directo a PostgreSQL (desarrollo)
DATABASE_PORT_EXTERNAL=5432

# ==================================================================
# CONFIGURACIÓN DE ADMINISTRACIÓN
# ==================================================================
# Credenciales del primer administrador
ADMIN_EMAIL="admin@example.com"
ADMIN_PASSWORD="TODO:contraseña-admin-inicial"
ADMIN_FIRSTNAME="Administrador"
ADMIN_LASTNAME="Sistema"

# ==================================================================
# CONFIGURACIÓN DE SMTP (Envío de correos)
# ==================================================================
SMTP_HOST="TODO:smtp.example.com"
SMTP_PORT=587
SMTP_USERNAME="TODO:usuario-smtp"
SMTP_PASSWORD="TODO:contraseña-smtp"
SMTP_FROM_EMAIL="noreply@example.com"
SMTP_FROM_NAME="CMS Strapi"

# ==================================================================
# CONFIGURACIÓN DE ALMACENAMIENTO
# ==================================================================
# Para desarrollo: local
# Para producción: AWS S3
UPLOAD_PROVIDER=local

# Configuración S3 (solo para producción)
AWS_REGION="TODO:us-east-1"
AWS_S3_BUCKET="TODO:nombre-bucket-s3"
AWS_ACCESS_KEY_ID="TODO:access-key-id"
AWS_SECRET_ACCESS_KEY="TODO:secret-access-key"
AWS_S3_ENDPOINT="https://s3.amazonaws.com"

# ==================================================================
# CONFIGURACIÓN DE CORS Y SEGURIDAD
# ==================================================================
# URLs permitidas (separadas por comas)
FRONTEND_URL="http://localhost:3000,http://localhost:3001"
ADMIN_URL="http://localhost:1337/admin"

# Rate limiting
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# ==================================================================
# CONFIGURACIÓN DE INTERNACIONALIZACIÓN
# ==================================================================
DEFAULT_LOCALE=es
AVAILABLE_LOCALES="es,en"

# ==================================================================
# CONFIGURACIÓN DE HERRAMIENTAS DE DESARROLLO
# ==================================================================
# Puerto para Adminer (gestión de base de datos)
ADMINER_PORT=8080

# ==================================================================
# CONFIGURACIÓN DE OBSERVABILIDAD
# ==================================================================
# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Monitoreo (opcional)
SENTRY_DSN="TODO:sentry-dsn-opcional"
NEW_RELIC_LICENSE_KEY="TODO:new-relic-key-opcional"

# ==================================================================
# CONFIGURACIÓN DE CI/CD
# ==================================================================
# Registry de Docker
DOCKER_REGISTRY="TODO:registry.example.com"
DOCKER_IMAGE_NAME="cms-strapi"
DOCKER_IMAGE_TAG="latest"

# ==================================================================
# CONFIGURACIÓN ESPECÍFICA POR ENTORNO
# ==================================================================
# DESARROLLO: Los valores por defecto están optimizados para desarrollo local
# 
# PRODUCCIÓN: Cambiar obligatoriamente:
# - NODE_ENV=production
# - Todas las claves y secrets (APP_KEYS, JWT_SECRET, etc.)
# - DATABASE_SSL=true
# - UPLOAD_PROVIDER=aws-s3 (con configuración S3 completa)
# - FRONTEND_URL con dominio real
# - Configuración SMTP real
# - LOG_LEVEL=warn o error

# ==================================================================
# NOTAS IMPORTANTES
# ==================================================================
# 1. Generar claves seguras para producción:
#    node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
#
# 2. Para múltiples APP_KEYS, sepáralas por comas:
#    APP_KEYS="key1,key2,key3,key4"
#
# 3. En producción, considera usar gestores de secretos como:
#    - AWS Secrets Manager
#    - HashiCorp Vault
#    - Azure Key Vault
#
# 4. Variables de entorno específicas de la plataforma de despliegue
#    pueden sobrescribir estos valores
